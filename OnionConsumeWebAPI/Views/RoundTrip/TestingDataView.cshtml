@* @model DomainLayer.Model.ReturnAAtripsellModel011 *@

 @model DomainLayer.ViewModel.ViewModel
@{
    var data = Model;

 }

<form id="reconnectingFlight">

    @foreach (var flightResult in Model.SimpleAvailibilityaAddResponcelist)
    {
        var collapseId = "ViewPriceCollapse" + @flightResult.segments[0].identifier.identifier;

        <div class="py-20 px-20 bg-white mt-20">
            <div class="row y-gap-30 justify-between">
                <div class="col">
                    <div class="row y-gap-10 items-center">

                        <div class="col-sm-auto">
                            @{
                                var imagePath = "/img/flight-logo-icon/" + TempData["AirAsiaLogin"];
                                <td>
                                    <img class="size-40" src=@imagePath height="100px" width="100px" alt="image" />
                                </td>
                            }

                        </div>

                        <div class="col">
                            <div class="row x-gap-20 items-end">
                                <div class="col-auto">
                                    <div class="lh-15 fw-500">AirAsia</div>
                                    <div class="fliCode">@flightResult.carriercode -@flightResult.Identifier</div>
                                </div>

                                <div class="col-auto">

                                    @{
                                        var departuretime = @flightResult.designator.departure;
                                        string departuretimestr = departuretime.ToString();
                                        var departuretimefinal = departuretimestr.Substring(11, 5);
                                    }
                                    <div class="">@departuretimefinal</div>
                                    <div class="">@flightResult.designator.origin</div>
                                </div>
                                @{
                                    var arrivalDate = flightResult.designator.arrival;
                                    var departureDate = flightResult.designator.departure;
                                    var diff = (arrivalDate - departureDate);
                                }
                                <div class="col text-center">
                                    <div class="px-20 md:px-0">@diff</div>
                                    <div class="flightLine">
                                        <div></div>
                                        <div></div>
                                    </div>
                                    @{
                                        var stops = @flightResult.stops;
                                        if (stops == 0)
                                        {
                                            <div class="mt-1">NonStop</div>
                                        }
                                        if (stops == 1)
                                        {
                                            <div class="mt-1">1Stop via @flightResult.segments[0].designator.destination </div>
                                        }
                                        if (stops == 2)
                                        {
                                            <div class="mt-1">2Stop</div>
                                        }
                                    }
                                    @*  <div class="mt-1">@flightResult.stops</div> *@
                                </div>

                                <div class="col-auto">

                                    @{
                                        var arrivaltime = @flightResult.designator.arrival;
                                        string arrivaltimestr = arrivaltime.ToString();
                                        var arrivalfinal = arrivaltimestr.Substring(11, 5);
                                    }

                                    <div class="lh-15 fw-500">@arrivalfinal</div>
                                    <div class="text-15 lh-15 text-light-1">@flightResult.designator.destination</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



                <div class="col-md-auto">
                    <div class="d-flex items-center h-full">
                        <div class="pl-30 border-left-light h-full md:d-none"></div>

                        <div>

                            <div class="text-center md:text-left mb-10">
                                <div class="price">@flightResult.fareTotalsum</div>
                            </div>

                            <div>

                                <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#@collapseId" aria-expanded="false" aria-controls="@collapseId">View Price<i class="fa fa-angle-double-down ml-2"></i></button>
                            </div>
                        </div>
                    </div>
                </div>



            </div>
            <div class="collapse multi-collapse" id="@collapseId">
                <table class="table mt-20">
                    <thead class="bg-light-2">
                        <tr>
                            <th>FARES</th>
                            <th>CABIN BAG</th>
                            <th>CHECK-IN</th>
                            <th>CANCELLATION </th>
                            <th>DATE CHANGE </th>
                            <th>SEAT</th>
                            <th>MEAL</th>
                            <th>&nbsp;</th>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            foreach (var faresInd in flightResult.faresIndividual)
                            {
                                <tr>
                                    <td>

                                        <div><strong>Saver Fare @faresInd.procuctclass</strong></div>
                                        <div>offered by airline.</div>
                                    </td>
                                    <td>7 Kgs</td>
                                    <td><strong>15 Kgs</strong></td>
                                    <td>
                                        <div>Cancellation Fee</div>
                                        <div>Starting ₹ 3,500</div>
                                    </td>
                                    <td>
                                        <div>Date Change fee</div>
                                        <div>starting ₹ 3,250</div>
                                    </td>
                                    <td>
                                        <div>Middle Seat Free,</div>
                                        <div>Window/Aisle</div>
                                        <div>Chargeable</div>
                                    </td>
                                    <td>...</td>
                                    <td>
                                        <div class="text-center md:text-left mb-10">
                                            <div class="price">₹ @faresInd.faretotal</div>

                                        </div>
                                        <form asp-controller="FlightSearchIndex" asp-action="Tripsell">
                                            <input type="hidden" id="fareKey" name="fareKey" value="@faresInd.fareKey" />
                                            <input type="hidden" id="journeyKey" name="journeyKey" value="@flightResult.journeyKey" />
                                            <button class="button -md -outline-blue-1 text-blue-1">Lock Price</button>
                                            <input type="submit" asp-action="Tripsell" value="Book Now" class="button small-btn">
                                        </form>
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>

            <div class="flight-dtl showBtn"><a href="#">Flight Details <i class="fa fa-angle-down" data-unicode="f107"></i></a></div>
            <div class="hideme" style="display:none;">
                <div class="tabs -underline-2 pt-30 lg:pt-30 sm:pt-30 js-tabs">
                    <div class="tabs__controls row x-gap-2 y-gap-0 lg:x-gap-20 js-tabs-controls">

                        <div class="col-auto">
                            <button type="button" class="tabs__button text-light-1 fw-500 px-2 pb-2 lg:pb-0 js-tabs-button is-tab-el-active" data-tab-target=".-tab-item-1">Itinerary</button>
                        </div>

                        <div class="col-auto">
                            <button type="button" class="tabs__button text-light-1 fw-500 px-2 pb-2 lg:pb-0 js-tabs-button" data-tab-target=".-tab-item-2">Fare Details</button>
                        </div>

                        <div class="col-auto">
                            <button type="button" class="tabs__button text-light-1 fw-500 px-2 pb-2 lg:pb-0 js-tabs-button" data-tab-target=".-tab-item-3">Baggage</button>
                        </div>
                        <div class="col-auto">
                            <button type="button" class="tabs__button text-light-1 fw-500 px-2 pb-2 lg:pb-0 js-tabs-button" data-tab-target=".-tab-item-4">Cancellation</button>
                        </div>
                        <div class="col-auto">
                            <button type="button" class="tabs__button text-light-1 fw-500 px-2 pb-2 lg:pb-0 js-tabs-button" data-tab-target=".-tab-item-5">Fare Rule</button>
                        </div>

                    </div>

                    <div class="tabs__content pt-20 js-tabs-content">

                        <div class="tabs__pane -tab-item-1 is-tab-el-active">
                            <div class="col">
                                <div class="row y-gap-10 items-center">
                                    <div class="dst-top">@flightResult.designator.origin<i class="fa fa-angle-double-right" aria-hidden="true"></i>@flightResult.designator.destination</div>
                                    <div class="col-sm-auto">
                                        <img class="size-40" src="~/img/flight-logo-icon/1.webp" alt="image">
                                    </div>
                                    <div class="col">
                                        <div class="row x-gap-20 items-end">
                                            <div class="col-auto">
                                                <div class="inside-col">
                                                    <div class="lh-15 fw-500">AirAsia</div>
                                                    <div class="fliCode">@flightResult.carriercode -@flightResult.Identifier</div>
                                                </div>
                                            </div>

                                            <div class="col-auto">
                                                <div class="">@departuretimefinal</div>
                                                <div class="">@flightResult.designator.origin</div>
                                                <span>Terminal-@flightResult.departureTerminal </span>
                                            </div>

                                            <div class="col text-center">
                                                <div class="px-20 md:px-0">@diff</div>
                                                <div class="flightLine">
                                                    <div></div>
                                                    <div></div>
                                                </div>
                                                <div class="mt-1">&nbsp;</div>
                                            </div>

                                            <div class="col-auto">
                                                <div class="lh-15 fw-500">@arrivalfinal</div>
                                                <div class="text-15 lh-15 text-light-1">@flightResult.designator.destination</div>
                                                <span>Terminal-@flightResult.arrivalTerminal</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tabs__pane -tab-item-2">
                            <div class="row y-gap-30">
                                <div class="dst-top">@flightResult.designator.origin - @flightResult.designator.destination (@flightResult.bookingdate) </div>
                                <div class="col-lg-7">
                                    <div class="text-19 fw-600">Fare baeakup (Include all taxes)</div>
                                    @{
                                        foreach (var faresbasic in flightResult.faresIndividual)
                                        {
                                            <table class="table mt-20">
                                                <thead class="bg-light-2">
                                                    <tr>
                                                        <th>Type</th>
                                                        <th>Pax</th>
                                                        <th>Basic</th>
                                                        <th>Taxes </th>
                                                        <th>OthChg </th>
                                                        <th>Total</th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>@faresbasic.passengertype</td>
                                                        <td>1</td>
                                                        <td>@faresbasic.discountamount</td>
                                                        <td>@faresbasic.taxamount</td>
                                                        <td>0</td>
                                                        <td>@faresbasic.faretotal</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        }
                                    }
                                </div>

                                <div class="col-lg-5">
                                    <div class="text-19 fw-600">Fare Rule</div>
                                    @{
                                        foreach (var faresrule in flightResult.faresIndividual)
                                        {
                                            <table class="table mt-20">
                                                <thead class="bg-light-2">
                                                    <tr>
                                                        <th>Fare</th>
                                                        <th>Refundable</th>
                                                    </tr>
                                                </thead>
                                                <tbody>

                                                    <tr>
                                                        <td>Basic(+)</td>
                                                        <td>@faresrule.discountamount</td>
                                                    </tr>

                                                    <tr>
                                                        <td>Taxes(+)</td>
                                                        <td>@faresrule.taxamount</td>
                                                    </tr>

                                                    <tr>
                                                        <td>MFee(+)</td>
                                                        <td>0</td>
                                                    </tr>

                                                    <tr>
                                                        <td>GST(+)</td>
                                                        <td>0</td>
                                                    </tr>

                                                    <tr>
                                                        <td>Disc(-)</td>
                                                        <td>0</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Tds(+)</td>
                                                        <td>0</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total</td>
                                                        <td>@faresrule.faretotal</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        }
                                    }
                                </div>
                            </div>
                        </div>

                        <div class="tabs__pane -tab-item-3">
                            <table class="table mt-20">
                                <thead class="bg-light-2">
                                    <tr>
                                        <th>Airline</th>
                                        <th>Pax Type</th>
                                        <th>Check-in Baggage</th>
                                        <th>Cabin Baggage</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><img class="size-40" src="~/img/flight-logo-icon/1.webp" alt="image"> AirAsia <span> @flightResult.carriercode -@flightResult.Identifier</span></td>
                                        <td>Adult</td>
                                        <td>15 Kg</td>
                                        <td>7 Kg</td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="text-19 fw-600 pb-2">Terms &amp; Conditon</div>
                            <ul class="list-disc y-gap-10">
                                <li>For infants there is no baggage allowance.</li>
                                <li>Airline can change Baggage Allowance.</li>
                                <li>For Low Cost Carriers, international Check-in Baggage is 20 kg and for Gulf Sectors Baggage is 25-30 kg.</li>
                                <li>If you have any query, feel free to Contact Us. Email: support@jetwaystravels.com</li>
                            </ul>
                        </div>
                        <div class="tabs__pane -tab-item-4">
                            <div class="dst-top">@flightResult.designator.origin - @flightResult.designator.destination (@flightResult.bookingdate)  </div>
                            <table class="table mt-20">
                                <tbody>
                                    <tr>
                                        <td>Cancellation Charges</td>
                                        <td>Airline Free </td>
                                        <td>Before Departure</td>
                                        <td>As per Airline Fare rule</td>
                                    </tr>

                                    <tr>
                                        <td>Reschedule Charges </td>
                                        <td>Airline Free </td>
                                        <td>Before Departure</td>
                                        <td>As per Airline Fare rule</td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="text-19 fw-600 pb-2">Terms &amp; Conditon</div>
                            <ul class="list-disc y-gap-10">
                                <li>Penalty is subject to 4 hour prior to departure and no changes are allowed after that.</li>
                                <li>The charges will be on per passenger per sector.</li>
                                <li>Rescheduling charges = Rescheduling/Change penalty+fare difference(if applicable)</li>
                                <li>Partial cancellation is not allowed on the flilght tickets which are book under special discounted fares</li>
                                <li>In case, the customer have not cancelled the ticket within the stipulated time or no show then only statutory taxes are refundable form the respective airlines</li>
                                <li>For infants there is no baggage allowance</li>
                                <li>In certain  situations of respricted cases, no amendments and cancellation is allowed.</li>
                            </ul>
                        </div>

                        <div class="tabs__pane -tab-item-5">
                            <div class="dst-top mb-3">Airline Fare Rule</div>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris efficitur est id enim maximus aliquam sit amet nec mi. Sed vulputate lacus eros. Aliquam dictum ipsum leo, ut suscipit risus porttitor iaculis. Integer maximus dignissim mauris eget rhoncus. Sed scelerisque feugiat dui, et vehicula elit feugiat vel. Duis dignissim semper nibh, et pharetra tortor commodo ut. Ut eu efficitur elit. Nullam nec lacus et lacus interdum condimentum sit amet id velit. Aenean sagittis tortor nulla, ut dapibus augue scelerisque eu. Vivamus sit amet odio in mauris bibendum lobortis. Curabitur varius diam sit amet eleifend vehicula.</p>
                            <p>Phasellus tortor augue, lobortis eu mauris aliquam, venenatis posuere lacus. Nam in justo eget ex vulputate posuere tincidunt ut nulla. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Phasellus luctus laoreet ex, sit amet imperdiet orci ultrices eu. Cras mattis at ex ac sodales. Vestibulum non nunc ut arcu volutpat convallis. Maecenas varius commodo ligula volutpat aliquam. Proin vehicula ultricies leo, eget imperdiet metus viverra non. Maecenas blandit, risus ut viverra blandit, neque risus porta mi, vel imperdiet lectus mauris vel elit. Ut vel fringilla tortor, a tempus ex. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Sed vitae eros diam. Sed tincidunt mauris quis erat malesuada efficitur non ac velit. Vivamus nec condimentum erat. Sed fringilla dui eget auctor interdum. Cras sed sem magna.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>



    }

</form>



