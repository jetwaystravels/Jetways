<div class="row y-gap-40">
    <div class="sidebar__item -no-border">
        <h5 class="text-18 fw-500 mb-10">Stops</h5>
        <div class="sidebar-checkbox">
            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">
                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" class="selectionCheckbox" value="0" name="stopsCheckbox" onclick="nonStopFunction()">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>
                        <div class="text-15 ml-10">Nonstop</div>
                    </div>
                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$92</div>
                </div>
            </div>

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">
                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" class="selectionCheckbox" name="stopsCheckbox" value="1" onclick="nonStopFunction()">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>
                        <div class="text-15 ml-10">1 Stop</div>
                    </div>
                </div>
                <div class="col-auto">
                    <div class="text-15 text-light-1">$92</div>
                </div>
            </div>

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" class="selectionCheckbox" name="stopsCheckbox" value="2" onclick="nonStopFunction()">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">2+ Stops</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$92</div>
                </div>
            </div>

        </div>
    </div>

    <div class="sidebar__item">
        <h5 class="text-18 fw-500 mb-10">Cabin</h5>
        <div class="sidebar-checkbox">

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">Basic Economy</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$92</div>
                </div>
            </div>

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">Economy</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$92</div>
                </div>
            </div>

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">Mixed</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$92</div>
                </div>
            </div>

        </div>
    </div>
    <div class="sidebar__item pb-30">
        <h5 class="text-18 fw-500 mb-20">Flight Times</h5>
        <div class="row x-gap-10 y-gap-30">

            <div class="col-12">
                <div class="js-time-rangeSlider">
                    <div class="text-14 fw-500">Take-off Boston (BOS)</div>

                    <div class="d-flex justify-between mb-15">
                        <div class="text-14 text-light-1">
                            Tue <span class="js-lower"></span>
                        </div>

                        <div class="text-14 text-light-1 js-upper"></div>
                    </div>

                    <div class="js-slider"></div>
                </div>
            </div>

            <div class="col-12">
                <div class="js-time-rangeSlider">
                    <div class="text-14 fw-500">Landing London (LON)</div>

                    <div class="d-flex justify-between mb-15">
                        <div class="text-14 text-light-1">
                            Tue <span class="js-lower"></span>
                        </div>

                        <div class="text-14 text-light-1 js-upper"></div>
                    </div>

                    <div class="js-slider"></div>
                </div>
            </div>

            <div class="col-12">
                <div class="js-time-rangeSlider">
                    <div class="text-14 fw-500">Take-off London (LON)</div>

                    <div class="d-flex justify-between mb-15">
                        <div class="text-14 text-light-1">
                            Tue <span class="js-lower"></span>
                        </div>

                        <div class="text-14 text-light-1 js-upper"></div>
                    </div>

                    <div class="js-slider"></div>
                </div>
            </div>

            <div class="col-12">
                <div class="js-time-rangeSlider">
                    <div class="text-14 fw-500">Landing Boston (BOS)</div>

                    <div class="d-flex justify-between mb-15">
                        <div class="text-14 text-light-1">
                            Tue <span class="js-lower"></span>
                        </div>

                        <div class="text-14 text-light-1 js-upper"></div>
                    </div>

                    <div class="js-slider"></div>
                </div>
            </div>

        </div>
    </div>
    <div class="sidebar__item">
        <h5 class="text-18 fw-500 mb-10">Airlines</h5>
        <div class="sidebar-checkbox">

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">Air France</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$92</div>
                </div>
            </div>

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">Aer Lingus</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$45</div>
                </div>
            </div>

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">Air Canada</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$21</div>
                </div>
            </div>

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">Air Europa</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$79</div>
                </div>
            </div>

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">Turkish Airlines</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$900</div>
                </div>
            </div>

        </div>
    </div>

    <div class="sidebar__item">
        <h5 class="text-18 fw-500 mb-10">Alliance</h5>
        <div class="sidebar-checkbox">

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">oneworld</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$92</div>
                </div>
            </div>

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">SkyTeam</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$45</div>
                </div>
            </div>

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">Star Alliance</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$21</div>
                </div>
            </div>

        </div>
    </div>

    <div class="sidebar__item">
        <h5 class="text-18 fw-500 mb-10">Departing from</h5>
        <div class="sidebar-checkbox">

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">BOS Boston</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$92</div>
                </div>
            </div>

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">PVD Providence</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$45</div>
                </div>
            </div>

        </div>
    </div>

    <div class="sidebar__item">
        <h5 class="text-18 fw-500 mb-10">Arriving at</h5>
        <div class="sidebar-checkbox">

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">LCY London</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$92</div>
                </div>
            </div>

            <div class="row y-gap-10 items-center justify-between">
                <div class="col-auto">

                    <div class="d-flex items-center">
                        <div class="form-checkbox ">
                            <input type="checkbox" name="name">
                            <div class="form-checkbox__mark">
                                <div class="form-checkbox__icon icon-check"></div>
                            </div>
                        </div>

                        <div class="text-15 ml-10">LGW London</div>

                    </div>

                </div>

                <div class="col-auto">
                    <div class="text-15 text-light-1">$45</div>
                </div>
            </div>

        </div>
    </div>
    <div class="sidebar__item pb-30">
        <h5 class="text-18 fw-500 mb-10">Price</h5>
        <div class="row x-gap-10 y-gap-30">
            <div class="col-12">
                <div class="js-price-rangeSlider">
                    <div class="text-14 fw-500"></div>

                    <div class="d-flex justify-between mb-20">
                        <div class="text-15 text-dark-1">
                            <span class="js-lower"></span>
                            -
                            <span class="js-upper"></span>
                        </div>
                    </div>

                    <div class="px-5">
                        <div class="js-slider"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>

    function nonStopFunction() {
        $('.selectionCheckbox').on('change', function () {
            updateFilter();
        });
        function updateFilter() {
            var selectedIds = [];
            $('input.selectionCheckbox:checked').each(function () {
                selectedIds.push($(this).val());
            });
            $.ajax({
                url: '/RoundTrip/RTFlightView',
                type: 'POST',
                traditional: true,
                data: { selectedIds: selectedIds },
                success: function (response) {
                    $('#filternonstop').html(response);
                    restoreCheckboxState(selectedIds);
                },
                error: function (xhr, status, error) {
                    console.error('Error occurred:', error);
                }
            });
        }
        function restoreCheckboxState(selectedIds) {
            $('.selectionCheckbox').each(function () {
                var checkboxValue = $(this).val();
                $(this).prop('checked', selectedIds.includes(checkboxValue));
            });
        }
    }
</script>
